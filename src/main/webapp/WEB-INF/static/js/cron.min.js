function cronValidate(c){var b="";var a=c.split(" ");if(a.length<6||a.length>7){return"cron表达式需要输入6-7位参数，请重新输入"}else{if((a[3]=="?"&&a[5]!="?")||(a[5]=="?"&&a[3]!="?")||(a[3]=="*"&&a[5]=="*")){b=checkSecondsField(a[0]);if(b!=true){return b}b=checkMinutesField(a[1]);if(b!=true){return b}b=checkHoursField(a[2]);if(b!=true){return b}b=checkDayOfMonthField(a[3]);if(b!=true){return b}b=checkMonthsField(a[4]);if(b!=true){return b}b=checkDayOfWeekField(a[5]);if(b!=true){return b}if(a.length>6){b=checkYearField(a[6]);if(b!=true){return b}}return true}else{return"指定日时周必须设为不指定(?),指定周时日必须设为不指定(?)"}}}function checkSecondsField(a){return checkField(a,0,59,"秒")}function checkMinutesField(a){return checkField(a,0,59,"分")}function checkHoursField(a){return checkField(a,0,23,"时")}function checkDayOfMonthField(a){if(a=="?"){return true}if(a.indexOf("L")>=0){return checkFieldWithLetter(a,"L",1,7,"日")}else{if(a.indexOf("W")>=0){return checkFieldWithLetter(a,"W",1,31,"日")}else{if(a.indexOf("C")>=0){return checkFieldWithLetter(a,"C",1,31,"日")}}}return checkField(a,1,31,"日")}function checkMonthsField(a){if(a!="*"){a=a.replace("JAN","1");a=a.replace("FEB","2");a=a.replace("MAR","3");a=a.replace("APR","4");a=a.replace("MAY","5");a=a.replace("JUN","6");a=a.replace("JUL","7");a=a.replace("AUG","8");a=a.replace("SEP","9");a=a.replace("OCT","10");a=a.replace("NOV","11");a=a.replace("DEC","12");return checkField(a,1,12,"月份")}else{return true}}function checkDayOfWeekField(a){a=a.replace("SUN","1");a=a.replace("MON","2");a=a.replace("TUE","3");a=a.replace("WED","4");a=a.replace("THU","5");a=a.replace("FRI","6");a=a.replace("SAT","7");if(a=="?"){return true}if(a.indexOf("L")>=0){return checkFieldWithLetterWeek(a,"L",1,7,"星期")}else{if(a.indexOf("C")>=0){return checkFieldWithLetterWeek(a,"C",1,7,"星期")}else{if(a.indexOf("#")>=0){return checkFieldWithLetterWeek(a,"#",1,7,"星期")}else{return checkField(a,1,7,"星期")}}}}function checkYearField(a){return checkField(a,1970,2099,"年的")}function checkField(d,a,b,c){if(d.indexOf("-")>-1){return checkRangeAndCycle(d,a,b,c)}else{if(d.indexOf(",")>-1){return checkListField(d,a,b,c)}else{if(d.indexOf("/")>-1){return checkIncrementField(d,a,b,c)}else{if(d=="*"){return true}else{return checkIntValue(d,a,b,true,c)}}}}}function checkIntValue(f,a,b,c,d){try{var h=parseInt(f,10);if(f==h){if(c){if(h<a||h>b){return(d+"的参数取值范围必须在"+a+"-"+b+"之间")}return true}return true}return(d+"的参数存在非法字符，必须为整数或允许的大写英文")}catch(g){return(d+"的参数有非法字符，必须是整数~")}}function checkListField(m,l,d,a){var p=m.split(",");var o=new Array(p.length);var h=0;for(var f=0;f<p.length;f++){o[f]=p[f]}for(var g=0;g<o.length;g++){message=checkIntValue(o[g],l,d,true,a);if(message!=true){return message}h=0;for(var f=0;f<o.length;f++){if(o[g]==o[f]){h++}if(h>1){return(a+"中的参数重复")}}}var c=-1;for(var g=0;g<o.length;g++){var n=o[g];try{var b=parseInt(n,10);if(b<c){return(a+"的参数应该从小到大")}else{c=b}}catch(k){return("这段提示用不到")}}return true}function checkIncrementField(e,b,c,d){if(e.split("/").length>2){return(d+"中的参数只能有一个'/'")}var f=e.substring(0,e.indexOf("/"));var a=e.substring(e.indexOf("/")+1);if(f!="*"){message=checkIntValue(f,b,c,true,d);if(message!=true){return message}message=checkIntValue(a,b,c,true,d);if(message!=true){return message}return true}else{return checkIntValue(a,b,c,false,d)}}function checkRangeAndCycle(d,j,f,c){if(d.split("-").length>2){return(c+"中的参数只能有一个'-'")}var l=null;var g=null;if(d.indexOf("/")>-1){if(d.split("/").length>2){return(c+"中的参数只能有一个'/'")}l=d.split("/")[0];g=d.split("/")[1];message=checkIntValue(g,j,f,true,c);if(message!=true){return message}}else{l=d}var b=l.substring(0,l.indexOf("-"));var k=l.substring(l.indexOf("-")+1);message=checkIntValue(b,j,f,true,c);if(message!=true){return message}message=checkIntValue(k,j,f,true,c);if(message!=true){return message}try{var a=parseInt(b,10);var i=parseInt(k,10);if(i<a){return(c+"的取值范围错误，前值必须小于后值")}if((i-a)<parseInt(g,10)){return(c+"的取值范围内的循环无意义")}return true}catch(h){return(c+"的参数有非法字符，必须是整数")}}function checkFieldWithLetter(h,g,b,a,f){for(var d=0;d<h.length;d++){var e=0;if(h.charAt(d)==g){e++}if(e>1){return(f+"的值的"+g+"字母只能有一个")}}if(g=="L"){if(h=="LW"){return true}if(h=="L"){return true}if(h.endsWith("LW")&&h.length>2){return(f+"中的参数，最后的LW前面不能有任何字母参数")}if(!h.endsWith("L")){return(f+"中的参数，L字母后面不能有W以外的字符、数字等")}else{var c=h.substring(0,h.indexOf(g));return checkIntValue(c,b,a,true,f)}}if(g=="W"){if(!h.endsWith("W")){return(f+"中的参数的W必须作为结尾")}else{if(h=="W"){return(f+"中的参数的W前面必须有数字")}var c=h.substring(0,h.indexOf(g));return checkIntValue(c,b,a,true,f)}}if(g=="C"){if(!h.endsWith("C")){return(f+"中的参数的C必须作为结尾")}else{if(h=="C"){return(f+"中的参数的C前面必须有数字")}var c=h.substring(0,h.indexOf(g));return checkIntValue(c,b,a,true,f)}}}function checkFieldWithLetterWeek(j,c,k,a,b){for(var d=0;d<j.length;d++){var f=0;if(j.charAt(d)==c){f++}if(f>1){return(b+"的值的"+c+"字母只能有一个")}}if(c=="L"){if(j=="L"){return true
}if(!j.endsWith("L")){return(b+"中的参数，L字母必须是最后一位")}else{var e=j.substring(0,j.indexOf(c));return checkIntValue(e,k,a,true,b)}}if(c=="C"){if(!j.endsWith("C")){return(b+"中的参数的C必须作为结尾")}else{if(j=="C"){return(b+"中的参数的C前面必须有数字")}var e=j.substring(0,j.indexOf(c));return checkIntValue(e,k,a,true,b)}}if(c=="#"){if(j=="#"){return(b+"中的#前后必须有整数")}if(j.charAt(0)==c){return(b+"中的#前面必须有整数")}if(j.endsWith("#")){return(b+"中的#后面必须有整数")}var h=j.substring(0,j.indexOf(c));var g=j.substring(j.indexOf(c)+1,j.length);message=checkIntValue(h,1,4,true,(b+"的#前面"));if(message!=true){return message}message=checkIntValue(g,k,a,true,(b+"的#后面"));if(message!=true){return message}return true}};